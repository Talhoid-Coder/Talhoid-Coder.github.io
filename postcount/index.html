<!DOCTYPE html>
<head>
	<link rel="stylesheet" href="odometer-theme-default.css" />
	<script src="odometer.js"></script>
</head>
<html>
<body>
<style>
.postcount {	
	display: flex;
  justify-content: center;
  align-items: center;
  height: 200px;
}
/*
h1 {
	font-size: 92px
	font-weight: 900;
	font-family: Roboto;
}
*/
</style>
<div class="postcount">
<h1 id="count" class="odometer">Hang on... fetching post count of </h1>
</div>
<script>
urlParam = function(name){
    var results = new RegExp('[\?&]' + name + '=([^&#]*)').exec(window.location.href);
    return results[1] || 0;
}
try {
	user = urlParam('user')
	document.getElementById("count").innerHTML += user;
	var url = 'https://scratchdb.lefty.one/v2/forum/user/info/' + user
} catch(e) {
	alert(e)	
}
function update() {
	try {
		fetch(url).then(response => response.json()).then(data => {
		try {
			var obj = JSON.parse(JSON.stringify(data));
		} catch(e) {
			document.getElementById("count").innerHTML = e;
		}
			document.getElementById("count").innerHTML = obj["counts"]["total"]["count"];
		});
	} catch(e) {
		 document.getElementById("count").innerHTML = e;
	}
}

setInterval(update,25000)
</script>
</body>
</html>
